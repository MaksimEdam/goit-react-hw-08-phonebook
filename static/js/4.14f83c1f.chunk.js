(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{178:function(t,e,n){t.exports={form:"ContactForm_form__2aePQ",inputWrapper:"ContactForm_inputWrapper__1ZLVn",label:"ContactForm_label__2a7yV",formButton:"ContactForm_formButton__3OMqZ"}},179:function(t,e,n){t.exports={filter:"Filter_filter__1GAqH"}},180:function(t,e,n){t.exports={btn:"EditorButton_btn__2X8p1",delete:"EditorButton_delete__Zh3Dz"}},181:function(t,e,n){t.exports={info:"ContactListItem_info__MUeKi",item:"ContactListItem_item__1-31H",editorInput:"ContactListItem_editorInput__2UlSd",btnGroup:"ContactListItem_btnGroup__-RpKN"}},184:function(t,e,n){t.exports={contacts:"ContactList_contacts__2xU1M",notification:"ContactList_notification__1gHaa",loader:"ContactList_loader__2HHno"}},185:function(t,e,n){t.exports={wrapper:"ContactsPage_wrapper__60PRS"}},202:function(t,e,n){"use strict";n.r(e);var a=n(3),c=n(24),r=n(56),o=n(0),s=n(15),i=n(39),u=n(27),b=n.n(u),l=n(9),j=n(31),p=n.n(j),m=n(45),f=function(t){return t.contacts.filter},O=function(t){return t.contacts.items},d=Object(m.a)([O,f],(function(t,e){return t.filter((function(t){var n=t.name,a=t.number;return n.toLowerCase().includes(e.toLocaleLowerCase())||a.includes(e)}))})),v=function(t){return t.contacts.loading},x=n(178),_=n.n(x),h=n(2);function C(){var t=Object(o.useState)({name:"",number:""}),e=Object(r.a)(t,2),n=e[0],u=e[1],j=Object(s.c)(O),m=Object(s.b)(),f=Object(o.useCallback)((function(t){var e=t.target,r=e.name,o=e.value;u(Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},r,o)))}),[n]),d=Object(o.useCallback)((function(t){if(t.preventDefault(),n.name){var e,a=j.find((function(t){return t.name===n.name}));if(a)alert("".concat(a.name," is already in contacts."));else m((e=n,function(){var t=Object(i.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(l.b)()),t.prev=1,t.next=4,p.a.post("/contacts",e);case 4:a=t.sent,c=a.data,n(Object(l.c)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(Object(l.a)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())),u({name:"",number:""})}}),[j,m,n]);return Object(h.jsxs)("form",{className:_.a.form,onSubmit:d,children:[Object(h.jsx)("div",{className:_.a.inputWrapper,children:Object(h.jsxs)("label",{className:_.a.label,children:["Name",Object(h.jsx)("input",{type:"name",name:"name",value:n.name,onChange:f,required:!0})]})}),Object(h.jsx)("div",{className:_.a.inputWrapper,children:Object(h.jsxs)("label",{className:_.a.label,children:["Number",Object(h.jsx)("input",{type:"tel",name:"number",value:n.number,onChange:f,required:!0})]})}),Object(h.jsx)("button",{type:"submit",className:_.a.formButton,children:"Add contact"})]})}var g=n(179),N=n.n(g);function y(){var t=Object(s.b)(),e=Object(o.useCallback)((function(e){return t(Object(l.m)(e.target.value))}),[t]),n=Object(s.c)(f);return Object(h.jsx)("div",{className:N.a.filter,children:Object(h.jsxs)("label",{children:["Find contacts by name",Object(h.jsx)("input",{type:"text",name:"filter",value:n,onChange:e,autoComplete:"off",required:!0})]})})}var k=n(180),w=n.n(k),L=function(t){var e=t.type,n=t.purpose,a=t.callback;return Object(h.jsx)("button",{type:e,className:w.a[n],onClick:function(){return a()},children:n})};L.defaultProps={type:"button"};var F=L,q=(n(84),n(181)),I=n.n(q);function S(t){var e=t.contact,n=e.id,u=e.name,j=e.number,m=Object(o.useState)({name:u,number:j}),f=Object(r.a)(m,2),O=f[0],d=f[1],v=Object(s.b)(),x=function(t){return v(function(t){return function(){var e=Object(i.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(l.e)()),e.prev=1,e.next=4,p.a.delete("/contacts/".concat(t));case 4:n(Object(l.f)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(l.d)(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}(t))},_=Object(o.useCallback)((function(t){var e=t.target,n=e.name,r=e.value;d(Object(c.a)(Object(c.a)({},O),{},Object(a.a)({},n,r)))}),[O]);return Object(h.jsxs)("li",{className:I.a.item,children:[Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:I.a.editorInput,children:[Object(h.jsx)("input",{type:"name",name:"name",value:O.name,onChange:_,required:!0}),Object(h.jsx)("input",{type:"tel",name:"number",value:O.number,onChange:_,required:!0})]})}),Object(h.jsx)("div",{className:I.a.btnGroup,children:Object(h.jsx)(F,{purpose:"delete",callback:function(){return x(n)}})})]})}var B=n(182),E=n.n(B),H=n(72),G=n.n(H),P=n(184),W=n.n(P);function M(){var t=Object(s.b)();Object(o.useEffect)((function(){return t(function(){var t=Object(i.a)(b.a.mark((function t(e){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(l.h)()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(l.i)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(l.g)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var e=Object(s.c)(d),n=Object(s.c)(v),a={type:"TailSpin",color:"#80cbc4",height:50,width:50,className:W.a.loader};return Object(h.jsxs)(h.Fragment,{children:[n&&Object(h.jsx)(G.a,Object(c.a)({},a)),!E.a.isEmpty(e)&&Object(h.jsx)("ul",{className:W.a.contacts,children:e.map((function(t){return Object(h.jsx)(S,{contact:t},t.id)}))}),E.a.isEmpty(e)&&!n&&Object(h.jsx)("p",{className:W.a.notification,children:"No contact found."})]})}var U=n(185),Z=n.n(U);e.default=function(){return Object(h.jsxs)("div",{className:Z.a.wrapper,children:[Object(h.jsx)(C,{}),Object(h.jsx)(y,{}),Object(h.jsx)(M,{})]})}}}]);
//# sourceMappingURL=4.14f83c1f.chunk.js.map